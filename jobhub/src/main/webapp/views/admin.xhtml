<!DOCTYPE html>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions"
	template="/templates/masterTemplate.xhtml">

	<ui:define name="content">
		<h:form id="adminForm">
			<p:tabView id="tabView">

				<p:tab id="tab1" title="Footer Configuration">
					<p:accordionPanel activeIndex="-1">
						<p:tab title="AboutUS">
							<h:panelGrid id="aboutusgrid" columns="2" cellpadding="10">
								<p:graphicImage value="/resources/images/aboutus.png" />
								<h:outputText value="#{adminController.aboutus}" />
							</h:panelGrid>
							<p:commandButton value="Edit"
								actionListener="#{adminController.aboutusEdit}"
								update="editor1panel"></p:commandButton>
							<p:outputPanel id="editor1panel">
								<pe:ckEditor id="editor1" value="#{adminController.aboutus}"
									toolbar="[['Cut','Copy','Paste','PasteText','PasteFromWord','-', 'SpellChecker']]"
									interfaceColor="\##{adminController.color}"
									rendered="#{adminController.aboutusFlag}" width="500" />
								<p:outputPanel rendered="#{adminController.aboutusFlag}">
									<p:colorPicker id="popupCP1" value="#{adminController.color}">
									</p:colorPicker>
									<p:commandButton value="Submit color" update="editor1" />
								</p:outputPanel>
								<p:commandButton value="Save"
									actionListener="#{adminController.aboutusSave}"
									update="editor1panel,aboutusgrid"
									rendered="#{adminController.aboutusFlag}"></p:commandButton>
							</p:outputPanel>
						</p:tab>
						<p:tab title="Communication">
							<h:panelGrid id="communicationgrid" columns="2" cellpadding="10">
								<p:graphicImage value="/resources/images/communication.png" />
								<h:outputText value="#{adminController.communication}" />
							</h:panelGrid>
							<p:commandButton value="Edit"
								actionListener="#{adminController.communicationEdit}"
								update="editor2panel"></p:commandButton>
							<p:outputPanel id="editor2panel">
								<pe:ckEditor id="editor2"
									value="#{adminController.communication}"
									toolbar="[['Cut','Copy','Paste','PasteText','PasteFromWord','-', 'SpellChecker']]"
									interfaceColor="\##{adminController.color}" width="500"
									rendered="#{adminController.communicationFlag}" />
								<p:outputPanel rendered="#{adminController.communicationFlag}">
									<p:colorPicker id="popupCP2" value="#{adminController.color}">
									</p:colorPicker>
									<p:commandButton value="Submit color" update="editor2" />
								</p:outputPanel>
								<p:commandButton value="Save"
									actionListener="#{adminController.communicationSave}"
									update="editor2panel,communicationgrid"
									rendered="#{adminController.communicationFlag}"></p:commandButton>

							</p:outputPanel>
						</p:tab>
						<p:tab title="Privacy">
							<h:panelGrid id="privacygrid" columns="2" cellpadding="10">
								<p:graphicImage value="/resources/images/privacy.png" />
								<h:outputText value="#{adminController.privacy}" />
							</h:panelGrid>
							<p:commandButton value="Edit"
								actionListener="#{adminController.privacyEdit}"
								update="editor3panel"></p:commandButton>
							<p:outputPanel id="editor3panel">
								<pe:ckEditor id="editor3" value="#{adminController.privacy}"
									toolbar="[['Cut','Copy','Paste','PasteText','PasteFromWord','-', 'SpellChecker']]"
									interfaceColor="\##{adminController.color}" width="500"
									rendered="#{adminController.privacyFlag}" />
								<p:outputPanel rendered="#{adminController.privacyFlag}">
									<p:colorPicker id="popupCP3" value="#{adminController.color}">
									</p:colorPicker>
									<p:commandButton value="Submit color" update="editor3" />
								</p:outputPanel>
								<p:commandButton value="Save"
									actionListener="#{adminController.privacySave}"
									update="editor3panel,privacygrid"
									rendered="#{adminController.privacyFlag}"></p:commandButton>

							</p:outputPanel>
						</p:tab>
						<p:tab title="Disclaimer">
							<h:panelGrid id="disclaimergrid" columns="2" cellpadding="10">
								<p:graphicImage value="/resources/images/disclaimer.png" />
								<h:outputText value="#{adminController.disclaimer}" />
							</h:panelGrid>
							<p:commandButton value="Edit"
								actionListener="#{adminController.disclaimerEdit}"
								update="editor4panel"></p:commandButton>
							<p:outputPanel id="editor4panel">
								<pe:ckEditor id="editor4" value="#{adminController.disclaimer}"
									toolbar="[['Cut','Copy','Paste','PasteText','PasteFromWord','-', 'SpellChecker']]"
									interfaceColor="\##{adminController.color}" width="500"
									rendered="#{adminController.disclaimerFlag}" />
								<p:outputPanel rendered="#{adminController.disclaimerFlag}">
									<p:colorPicker id="popupCP4" value="#{adminController.color}">
									</p:colorPicker>
									<p:commandButton value="Submit color" update="editor4" />
								</p:outputPanel>
								<p:commandButton value="Save"
									actionListener="#{adminController.disclaimerSave}"
									update="editor4panel,disclaimergrid"
									rendered="#{adminController.disclaimerFlag}"></p:commandButton>

							</p:outputPanel>
						</p:tab>
						<p:tab title="Help">
							<h:panelGrid id="helpgrid" columns="2" cellpadding="10">
								<p:graphicImage value="/resources/images/help.png" />
								<h:outputText value="#{adminController.help}" />
							</h:panelGrid>
							<p:commandButton value="Edit"
								actionListener="#{adminController.helpEdit}"
								update="editor5panel"></p:commandButton>
							<p:outputPanel id="editor5panel">
								<pe:ckEditor id="editor5" value="#{adminController.help}"
									toolbar="[['Cut','Copy','Paste','PasteText','PasteFromWord','-', 'SpellChecker']]"
									interfaceColor="\##{adminController.color}" width="500"
									rendered="#{adminController.helpFlag}" />
								<p:outputPanel rendered="#{adminController.helpFlag}">
									<p:colorPicker id="popupCP5" value="#{adminController.color}">
									</p:colorPicker>
									<p:commandButton value="Submit color" update="editor5" />
								</p:outputPanel>
								<p:commandButton value="Save"
									actionListener="#{adminController.helpSave}"
									update="editor5panel,helpgrid"
									rendered="#{adminController.helpFlag}"></p:commandButton>

							</p:outputPanel>
						</p:tab>
					</p:accordionPanel>
				</p:tab>
				<p:tab id="tab2" title="Jobhub Timeline">
					<pe:timeline id="timeline"
						value="#{jobhubTimelineController.model}" height="250px"
						var="jobhub" selectable="#{jobhubTimelineController.selectable}"
						zoomable="#{jobhubTimelineController.zoomable}"
						moveable="#{jobhubTimelineController.moveable}"
						stackEvents="#{jobhubTimelineController.stackEvents}"
						axisOnTop="#{jobhubTimelineController.axisOnTop}"
						eventStyle="#{jobhubTimelineController.eventStyle}"
						showCurrentTime="#{jobhubTimelineController.showCurrentTime}"
						showNavigation="#{jobhubTimelineController.showNavigation}"
						timeZone="#{jobhubTimelineController.timeZone}"
						zoomMax="#{jobhubTimelineController.zoomMax}"
						start="#{jobhubTimelineController.start}"
						end="#{jobhubTimelineController.end}" editable="true"
						showButtonNew="true" minHeight="200" widgetVar="timelineWdgt">

						<p:ajax event="change" update="@none"
							listener="#{jobhubTimelineController.onChange}" />
						<p:ajax event="edit" update="detailsJobhubInner"
							listener="#{jobhubTimelineController.onEdit}"
							oncomplete="PF('detailsJobhubWdgt').show()" />
						<p:ajax event="add" update="detailsJobhubInner"
							listener="#{jobhubTimelineController.onAdd}"
							oncomplete="PF('detailsJobhubWdgt').show()" />
						<p:ajax event="delete" update="deleteJobhubInner"
							listener="#{jobhubTimelineController.onDelete}"
							onstart="PF('timelineWdgt').cancelDelete()"
							oncomplete="PF('deleteJobhubWdgt').show()" />


						<h:panelGrid columns="1">
							<h:outputText value="Posts: #{jobhub.noofposts}" />
							<h:outputText value="Employers: #{jobhub.noofemployers}" />
							<h:outputText
								value="AppliedPosts: #{jobhub.noofappliedposts}" />
						</h:panelGrid>
					</pe:timeline>
					<p:dialog id="detailsJobhubDlg" header="Jobhub Details"
						widgetVar="detailsJobhubWdgt" showEffect="clip" hideEffect="clip">
						<h:panelGroup id="detailsJobhubInner" layout="block">
							<h:panelGrid columns="2"
								columnClasses="JobhubDetails1,JobhubDetails2">
								<h:outputText value="Posts" />
								<p:inputText
									value="#{jobhubTimelineController.event.data.noofposts}"
									required="true" label="Room" />

								<h:outputText value="Start" />
								<p:calendar value="#{jobhubTimelineController.event.startDate}"
									timeZone="#{jobhubTimelineController.timeZone}"
									pattern="dd/MM/yyyy HH:mm" required="true" label="From" />

								<h:outputText value="End" />
								<p:calendar value="#{jobhubTimelineController.event.endDate}"
									timeZone="#{jobhubTimelineController.timeZone}"
									pattern="dd/MM/yyyy HH:mm" label="Until" />

								<h:outputText value="Employers" />
								<p:inputText
									value="#{jobhubTimelineController.event.data.noofemployers}"
									required="true" label="Room" />

								<h:outputText value="Applied posts" />
								<p:inputText
									value="#{jobhubTimelineController.event.data.noofappliedposts}"
									required="true" label="Room" />
							</h:panelGrid>
						</h:panelGroup>

						<f:facet name="footer">
							<h:panelGroup layout="block"
								style="text-align:right; padding:2px; white-space:nowrap;">
								<p:commandButton value="Save" process="detailsJobhubDlg"
									update="@none" action="#{jobhubTimelineController.saveDetails}"
									oncomplete="if(!args.validationFailed){PF('detailsJobhubWdgt').hide();}" />
								<p:commandButton type="button" value="Close"
									onclick="PF('detailsJobhubWdgt').hide()" />
							</h:panelGroup>
						</f:facet>
					</p:dialog>

					<p:dialog id="deleteJobhubDlg" header="Jobhub Details"
						widgetVar="deleteJobhubWdgt" showEffect="clip" hideEffect="clip"
						dynamic="true">
						<h:panelGroup id="deleteJobhubInner" layout="block"
							style="margin:10px;">
							<h:outputText value="#{jobhubTimelineController.deleteMessage}" />
						</h:panelGroup>

						<f:facet name="footer">
							<h:panelGroup layout="block"
								style="text-align:right; padding:2px; white-space:nowrap;">
								<p:commandButton value="Delete" process="deleteJobhubDlg"
									update="@none" action="#{jobhubTimelineController.delete}"
									oncomplete="PF('deleteJobhubWdgt').hide()" />
								<p:commandButton type="button" value="Close"
									onclick="PF('deleteJobhubWdgt').hide()" />
							</h:panelGroup>
						</f:facet>
					</p:dialog>
					<h:outputStylesheet id="timelineCSS">
    table .formColumn {
        padding: 0 5px 0 20px;
        text-align: right;
        white-space: nowrap;
    }       
</h:outputStylesheet>

				</p:tab>


			</p:tabView>
		</h:form>
	</ui:define>
</ui:composition>