package com.packt.pfextensions.controller;

import java.io.Serializable;
import java.util.ArrayList;
import java.util.List;

import javax.faces.bean.ManagedBean;
import javax.faces.view.ViewScoped;

import com.packt.pfextensions.model.JobDetails;
import com.packt.pfextensions.model.JobPost;
import com.packt.pfextensions.model.SkillsDetails;

	@ManagedBean
	@ViewScoped
	public class JobDetailsController implements Serializable {

		private static final long serialVersionUID = 20111120L;

		private List<JobDetails> jobPosts;
		private int currentLevel = 1;

		public JobDetailsController() {
			if (jobPosts == null) {
				jobPosts = new ArrayList<JobDetails>();

				// SrArchitect
				List<JobDetails> countries = new ArrayList<JobDetails>();
				JobDetails jobDetails = new JobDetails("Java Domain","10","B11-Architect", getSkillsDetails("SrArchitect"));
				jobPosts.add(jobDetails);
				jobDetails = new JobDetails(".NET Domain","8","B12-Architect", getSkillsDetails("SrArchitect"));
				jobPosts.add(jobDetails);
				jobDetails = new JobDetails("DB Domain","12","A14-Architect",  getSkillsDetails("SrArchitect"));
				jobPosts.add(jobDetails);
				jobDetails = new JobDetails("SAP Domain", "NL", "Football",  getSkillsDetails("SrArchitect"));
				countries.add(jobDetails);
				sports.add(new Sport("Football", countries));

				//basketball
				countries = new ArrayList<Country>();
				country = new Country("Germany", "DE", "Basketball", getLeagues("Germany"));
				countries.add(country);
				country = new Country("USA", "US", "Basketball", getLeagues("USA"));
				countries.add(country);
				country = new Country("Poland", "PL", "Basketball", getLeagues("Poland"));
				countries.add(country);
				sports.add(new Sport("Basketball", countries));

				// ice hockey
				countries = new ArrayList<Country>();
				country = new Country("Russia", "RU", "Ice Hockey", getLeagues("Russia"));
				countries.add(country);
				country = new Country("Canada", "CA", "Ice Hockey", getLeagues("Canada"));
				countries.add(country);
				sports.add(new Sport("Ice Hockey", countries));
			}
		}

		public List<Sport> getSports() {
			return sports;
		}

		public int getCurrentLevel() {
			return currentLevel;
		}

		public void setCurrentLevel(int currentLevel) {
			this.currentLevel = currentLevel;
		}

		private List<SkillsDetails> getSkillsDetails(String title) {
			List<SkillsDetails> skillDetails = new ArrayList<SkillsDetails>();

			if(title.equalsIgnoreCase("SrArchitect")){
				skillDetails.add(new SkillsDetails("Java Developer","10","B11-Architect"));
				skillDetails.add(new SkillsDetails(".NET Developer","8","B12-Architect"));
				skillDetails.add(new SkillsDetails("DB Developer","12","A14-Architect"));

			}
			leagues.add(new League(country + " SuperLeague", 20));
			leagues.add(new League(country + " NotBadLeague", 15));
			leagues.add(new League(country + " CrapLeague", 30));

			return leagues;
		}
	}
	            
